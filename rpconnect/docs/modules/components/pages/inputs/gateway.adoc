= gateway
:type: input
:status: stable
:categories: ["Network"]



////
     THIS FILE IS AUTOGENERATED!

     To make changes, edit the corresponding source file under:

     https://github.com/redpanda-data/connect/tree/main/internal/impl/<provider>.

     And:

     https://github.com/redpanda-data/connect/tree/main/cmd/tools/docs_gen/templates/plugin.adoc.tmpl
////

// Â© 2024 Redpanda Data Inc.


component_type_dropdown::[]


Receive messages delivered over HTTP.


[tabs]
======
Common::
+
--

```yml
# Common config fields, showing default values
input:
  label: ""
  gateway:
    path: /
    rate_limit: ""
```

--
Advanced::
+
--

```yml
# All config fields, showing default values
input:
  label: ""
  gateway:
    path: /
    rate_limit: ""
    sync_response:
      status: "200"
      headers:
        Content-Type: application/octet-stream
      metadata_headers:
        include_prefixes: []
        include_patterns: []
```

--
======

The field `rate_limit` allows you to specify an optional xref:components:rate_limits/about.adoc[`rate_limit` resource], which will be applied to each HTTP request made and each websocket payload received.

When the rate limit is breached HTTP requests will have a 429 response returned with a Retry-After header.

== Responses

It's possible to return a response for each message received using xref:guides:sync_responses.adoc[synchronous responses]. When doing so you can customize headers with the `sync_response` field `headers`, which can also use xref:configuration:interpolation.adoc#bloblang-queries[function interpolation] in the value based on the response message contents.

== Metadata

This input adds the following metadata fields to each message:

```text
- http_server_user_agent
- http_server_request_path
- http_server_verb
- http_server_remote_ip
- All headers (only first values are taken)
- All query parameters
- All path parameters
- All cookies
```

You can access these metadata fields using xref:configuration:interpolation.adoc#bloblang-queries[function interpolation].

== Fields

=== `path`

The endpoint path to listen for data delivery requests.


*Type*: `string`

*Default*: `"/"`

=== `rate_limit`

An optional xref:components:rate_limits/about.adoc[rate limit] to throttle requests by.


*Type*: `string`

*Default*: `""`

=== `sync_response`

Customize messages returned via xref:guides:sync_responses.adoc[synchronous responses].


*Type*: `object`


=== `sync_response.status`

Specify the status code to return with synchronous responses. This is a string value, which allows you to customize it based on resulting payloads and their metadata.
This field supports xref:configuration:interpolation.adoc#bloblang-queries[interpolation functions].


*Type*: `string`

*Default*: `"200"`

```yml
# Examples

status: ${! json("status") }

status: ${! meta("status") }
```

=== `sync_response.headers`

Specify headers to return with synchronous responses.
This field supports xref:configuration:interpolation.adoc#bloblang-queries[interpolation functions].


*Type*: `object`

*Default*: `{"Content-Type":"application/octet-stream"}`

=== `sync_response.metadata_headers`

Specify criteria for which metadata values are added to the response as headers.


*Type*: `object`


=== `sync_response.metadata_headers.include_prefixes`

Provide a list of explicit metadata key prefixes to match against.


*Type*: `array`

*Default*: `[]`

```yml
# Examples

include_prefixes:
  - foo_
  - bar_

include_prefixes:
  - kafka_

include_prefixes:
  - content-
```

=== `sync_response.metadata_headers.include_patterns`

Provide a list of explicit metadata key regular expression (re2) patterns to match against.


*Type*: `array`

*Default*: `[]`

```yml
# Examples

include_patterns:
  - .*

include_patterns:
  - _timestamp_unix$
```


